<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>NicePage demo</title>
	<meta name="renderer" content="webkit">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link href="css/layui.css" type="text/css" rel="stylesheet">


</head>

<BODY>
	<center style="padding-top: 40px">
		<a style="font-size: 70px;font-weight: 500">JSON自动分页 <span class="layui-badge layui-bg-blue">DEMO</span></a>
		</br>
		<div style="width: 80%;padding-top: 20px">
			<blockquote class="layui-elem-quote">----</blockquote>
			<!--以下为两个必须div元素-->
			<div id="table"></div>
			<div id="pageBar"></div>
		</div>

	</center>

</body>
<script src="http://www.jq22.com/jquery/jquery-1.10.2.js"></script>
<script language="Javascript" src="js/layui.js"></script>
<script language="Javascript" src="js/nicePage.js"></script>
<script LANGUAGE="javascript">
	var json;
		// $.ajax({
		// 	url: "http://localhost:17900/flower/recommendFlower",
		// 	type: 'get',
		// 	dataType: 'json',
		// 	timeout: 1000,
		// 	success: function (data) {
		// 		if (data.code === 0) {
		// 			json = data.body;
		//
		// 			console.info(JSON.stringify(json))
		// 		} else if(data.status === 10000) {
		// 			alert(data.msg);
		// 		}
		// 	},
		// 	fail: function (error) {
		// 		console.error(error);
		// 	}
		// });




    console.info(JSON.stringify(json))

    // var json = [
    //     {
    //         "id": "1",
    //         "createTime": "2018-11-16 09:34:03.0",
    //         "flowerImg": null,
    //         "remarks": "",
    //         "flowerName": "紫滕花",
    //         "delete": 0,
    //         "recommend": 0,
    //         "flowerLanguage": "对你执着，最幸福的时刻"
    //     },
    //     {
    //         "id": "2",
    //         "createTime": "2018-11-01 09:34:06.0",
    //         "flowerImg": null,
    //         "remarks": "",
    //         "flowerName": "紫罗兰",
    //         "delete": 0,
    //         "recommend": 0,
    //         "flowerLanguage": "永恒的美丽，最适合送给天秤的淑女。"
    //     },
    //     {
    //         "id": "3",
    //         "createTime": "2018-11-08 09:34:10.0",
    //         "flowerImg": null,
    //         "remarks": "",
    //         "flowerName": "勿忘我",
    //         "delete": 0,
    //         "recommend": 0,
    //         "flowerLanguage": "永恒的爱，浓情厚谊 ，永不变的心，永远的回忆"
    //     },
    //     {
    //         "id": "4",
    //         "createTime": "2018-11-16 09:34:15.0",
    //         "flowerImg": null,
    //         "remarks": null,
    //         "flowerName": "水仙花",
    //         "delete": 0,
    //         "recommend": 0,
    //         "flowerLanguage": "只爱自己"
    //     },
    //     {
    //         "id": "5",
    //         "createTime": "2018-11-16 09:34:17.0",
    //         "flowerImg": null,
    //         "remarks": null,
    //         "flowerName": "满天星",
    //         "delete": 0,
    //         "recommend": 0,
    //         "flowerLanguage": "思念、清纯、梦境、真心喜欢、喜悦"
    //     },
    //     {
    //         "id": "6",
    //         "createTime": "2018-11-16 09:34:20.0",
    //         "flowerImg": null,
    //         "remarks": null,
    //         "flowerName": "蝴蝶兰",
    //         "delete": 0,
    //         "recommend": 0,
    //         "flowerLanguage": "我爱你、幸福向你飞来"
    //     },
    //     {
    //         "id": "1067322425079787557",
    //         "createTime": "2018-11-27 16:59:21.0",
    //         "flowerImg": "无",
    //         "remarks": "",
    //         "flowerName": "玫瑰花",
    //         "delete": 0,
    //         "recommend": 1,
    //         "flowerLanguage": "爱情、爱与美、容光焕发  "
    //     },
    //     {
    //         "id": "1067322425079787558",
    //         "createTime": "2018-11-29 09:14:30.0",
    //         "flowerImg": "无",
    //         "remarks": "",
    //         "flowerName": "百合花",
    //         "delete": 0,
    //         "recommend": 0,
    //         "flowerLanguage": "在中国百合具有百年好合美好家庭、伟大的爱之含意，有深深祝福的意义。受到这种花的祝福的人具有清纯天真的性格，集众人宠爱于一身，不过光凭这一点并不能平静度过一生，必须具备自制力，抵抗外界的诱惑，才能保持不被污染的纯真。"
    //     },
    //     {
    //         "id": "1067322425079787559",
    //         "createTime": "2018-11-29 09:19:17.0",
    //         "flowerImg": "无",
    //         "remarks": "",
    //         "flowerName": "牡丹花",
    //         "delete": 0,
    //         "recommend": 0,
    //         "flowerLanguage": "圆满、浓情、富贵 。"
    //     },
    //     {
    //         "id": "1067322425079787560",
    //         "createTime": "2018-11-29 09:28:52.0",
    //         "flowerImg": "无",
    //         "remarks": "",
    //         "flowerName": "雏菊",
    //         "delete": 0,
    //         "recommend": 0,
    //         "flowerLanguage": "永远的快乐（Happy forever）"
    //     },
    //     {
    //         "id": "1067322425079787561",
    //         "createTime": "2018-11-29 09:33:15.0",
    //         "flowerImg": null,
    //         "remarks": null,
    //         "flowerName": "樱花",
    //         "delete": 0,
    //         "recommend": 0,
    //         "flowerLanguage": "生命、幸福一生一世永不放弃，命运的法则就是循环。　　\n"
    //     }
    // ];

    var nameList = ['id', ' 时间', '图片', '备注', '花名', '删除', '推荐', '花语'];
    var widthList = [100, 100, 100, 100, 100, 100, 100, 300];
    $(function () {
        $.post("http://localhost:17900/flower/flowers",
            {
                flowerName: '',
                season: '',
                color: '',
                page:1,
                limit:5
            },
            function(result){
                json = result.body;
                console.info(JSON.stringify(json))
            }
        );


        nicePage.setCfg({
            table: 'table',
            bar: 'pageBar',
            limit: 5,
            color: '#1E9FFF',
            layout: ['count', 'prev', 'page', 'next', 'limit', 'skip']
        });
    })
</script>

</html>